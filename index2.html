<!DOCTYPE html>
<html>
<title>api.auroras.live Documentation</title>

<xmp theme="cerulean" style="display:none;">
# Introduction
The auroras.live API allows you to obtain key aurora hunting information and access extensive data archives. It's also the system used by the auroras.live website, Pebble watch app and mobile apps

## Usage

Data can be passed to the API via GET or POST, using the endpoints listed below

### Endpoints
#### Non-secure
`http://api.auroras.live`
#### Secure
`https://api.auroras.live`

## Important Messages
Please keep an eye on this website for information about the API. Important information will also be included along with any data retrieved from the API.

### Example
`http://api.auroras.live/v1/?type=ace&data=bz`

### Returns
Array. The requested data will return, **if present**, important messages in the form of an array.

```json
{
  "date": "2016-03-31T02:53:16+11:00",
  "message": [
    "Version 0 of the API is being deprecated. Please migrate to v1. Version 0 will be unpublished on January 1st 2017",
    "There will be an outage on the 8th of July 2016 between 00:00 and 01:00 UTC while services are moved to a new host"
  ],
  "bz": "1.7",
  "colour": "yellow"
}
```

## Timezones
By default, all dates and times returned are in UTC. By appending `tz` to your request and passing an offset, in minutes, you can convert most of these times and dates into your local timezone. If you're accessing the API via Javascript (e.g. an AngularJS app), you can simply use `new Date().getTimezoneOffset()` to obtain the offset.

### Example
`http://api.auroras.live/v1/?type=ace&data=bz&tz=-660`
### Returns
```json
{
  "date": "2016-03-31T02:53:16+11:00",
  "bz": "1.7",
  "colour": "yellow"
}
```

## Formatting (BETA)
By default, data will be returned as JSON. If you wish to return the data as XML, simply append `format=xml` to your request. Note that this won't work on all modules, especially the `threeday` portion of the `ace` module, as the generated fields contain illegal keys

### Example
`http://api.auroras.live/v1/?type=ace&data=bz&format=xml`

### Returns
```xml
<data>
  <date>2016-04-19T13:23:36+00:00</date>
  <bz>2.2</bz>
  <colour>green</colour>
</data>
```

## Colouring
Many modules will return a colour along with the information. This allows users to know what the returned values actually mean (e.g. green = no activity, red = lots of activity). It's also designed to allow programmers to set colours without having to code in lenghthy `switch` statements.

If you wish to change the format of the colours, simply append `colour=` to your request along with `hex` or `rgb` to return the colours in that format. **Please take note of spelling, as the API uses British English, so _colour_ as opposed to _color_**

### Example
`http://api.auroras.live/v1/?type=ace&data=bz&colour=hex`

### Returns
```json
{
    "date": "2016-04-19T13:29:23+00:00",
    "bz": "1.3",
    "colour": "#00FF00"
}
```

Below is a table showing how the colours are determined:

| Data    | Value 1 | Value 2 | Colour Name | Hex Colour | CSS RGB Colour   |
|---------|---------|---------|-------------|------------|------------------|
| Bz      | <= -15  |         | `red`       | `#FF0000`  | `rgb(255,0,0)`   |
| Bz      | > -15   | <= -10  | `orange`    | `#FF8000`  | `rgb(255,128,0)` |
| Bz      | > -10   | < 0     | `yellow`    | `#FFFF00`  | `rgb(255,255,0)` |
| Bz      | >= 0    |         | `green`     | `#00FF00`  | `rgb(0,255,0)`   |
| Speed   | >= 700  |         | `red`       | `#FF0000`  | `rgb(255,0,0)`   |
| Speed   | >= 500  | < 700   | `orange`    | `#FF8000`  | `rgb(255,128,0)` |
| Speed   | >= 350  | < 500   | `yellow`    | `#FFFF00`  | `rgb(255,255,0)` |
| Speed   | < 350   |         | `green`     | `#00FF00`  | `rgb(0,255,0)`   |
| Density | >= 15   |         | `red`       | `#FF0000`  | `rgb(255,0,0)`   |
| Density | >= 10   | < 15    | `orange`    | `#FF8000`  | `rgb(255,128,0)` |
| Density | >= 4    | < 10    | `yellow`    | `#FFFF00`  | `rgb(255,255,0)` |
| Density | > 0     | < 4     | `green`     | `#00FF00`  | `rgb(0,255,0)`   |
| Kp      | > 6     |         | `red`       | `#FF0000`  | `rgb(255,0,0)`   |
| Kp      | >= 5    | < 6     | `orange`    | `#FF8000`  | `rgb(255,128,0)` |
| Kp      | >= 3    | <= 4    | `yellow`    | `#FFFF00`  | `rgb(255,255,0)` |
| Kp      | < 3     |         | `green`     | `#00FF00`  | `rgb(0,255,0)`   |
| Nowcast | >= 75   | <= 100  | `red`       | `#FF0000`  | `rgb(255,0,0)`   |
| Nowcast | >= 50   | < 75    | `orange`    | `#FF8000`  | `rgb(255,128,0)` |
| Nowcast | >= 25   | < 50    | `yellow`    | `#FFFF00`  | `rgb(255,255,0)` |
| Nowcast | >= 0    | < 25    | `green`     | `#00FF00`  | `rgb(0,255,0)`   |

# Modules
The API consists of a few modules that you can access.

## All
The "all" module combines a variety of information that a typical site would use. This saves on multiple API calls. Information return by default includes:

 - ACE data (speed, density, Bz, Kp, 1 hour Kp forecast, 4 hour Kp forecast)
 - Three day Kp forecast
 - Weather for the specified location
 - 9 day weather forecast
 - Probability data, which includes
   - The probability of seeing an aurora directly overhead
   - The highest probability of seeing an aurora within 9 degrees (approx. 1000km) of your location
   - The location on earth that has the best probability of seeing an aurora overhead

Using the optional parameters below, you can omit data, which is useful for areas with unreliable internet connections.

### Usage
`http://api.auroras.live/v1/?type=all&lat=51.5216762&long=-0.3081689`

### Returns
To see what data is returned, see the examples in the `ace` and `weather` modules

### Required Parameters

#### lat
Integer. The latitude of the area you wish to obtain information for. Valid ranges are from `-90` to `90`

#### long
Integer. The longitude of the area you wish to obtain information for. Valid ranges are from `-180` to `180`

### Optional parameters

#### ace
Boolean. Defaults to `true`. If `false`, omits the ACE data from the results

#### weather
Boolean. Defaults to `true`. If `false`, omits the weather (and 9 day forecast) from the results

#### forecast
Boolean. Defaults to `true`. If `false`, omits the 9 day weather forecast. If `weather` is false, this parameter has no effect

#### threeday
Boolean. Defaults to `true`. If `false`, omits the three day Kp forecast from the results.

#### images
Boolean. Defaults to `false`. If `true`, includes a list of possible webcam, chart and satellite images, along with category data.

#### probability
Boolean. Defaults to `true`. If `false`, omits the SWPC "nowcast" probability data

## ACE
The ACE module returns information obtained from the ACE spacecraft, plus the "nowcast" probability data. Future versions of this API will separate nowcast into a separate set of data

### Usage
`http://api.auroras.live/v1/?type=ace&data=all`

### Returns
```json
{
    "date": "2016-04-19T14:01:46+00:00",
    "bz": "4.2",
    "density": "4.4",
    "speed": "377.1",
    "kp1hour": "0.67",
    "kp4hour": "0.00",
    "kp": "0.33",
    "colour": {
        "bz": "green",
        "density": "yellow",
        "speed": "green",
        "kp1hour": "green",
        "kp4hour": "green",
        "kp": "green"
    }
}
```

### Required Parameters

#### data
String. The type of data that you wish to retrieve. Valid values include:

  - `bz` - Returns the Bz value. Bz is the direction of the Interplanetary Magnetic Field (IMF)
  - `speed` - Returns the bulk speed
  - `density` - Returns the proton density
  - `kp` - Returns the current, 1 hour and 4 hour Kp forecasts
  - `threeday` - Returns the three day Kp forecast
  - `probability` - Returns the probability of seeing an aurora overhead, within 1000km (i.e. on the horizon) and the place on earth with the best possible chance. Data derived from the SWPC's Nowcast
  - `all` - Everything above, except for the probability

### Optional Parameters

#### lat
Integer. The latitude of the location you wish to retrieve probability info for. Valid ranges are from `-90` to `90`. **Only necessary if requesting probability data**

#### long
Integer. The longitude of the location you wish to retrieve probability info for. Valid ranges are from `-180` to `180`. **Only necessary if requesting probability data**


</xmp>

<script src="v/0.2/strapdown.js"></script>
</html>
